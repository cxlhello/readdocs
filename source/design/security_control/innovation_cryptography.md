# Chiron密码学和创新

## 一、简介
  Chiron共识对轻节点随机采样，形成若干个验证组，组协作VRF算法产生的真随机数作为PRG函数的随机种子，产生的随机数来确定当前slot的验证组，全网重节点根据上一块区块的随机数，进行VRF分组，随机选出当前slot的提案组，提案成员给出若干个候选区块提案定向广播给当前slot的验证组，验证组以组协作方式来完成候选区块验证，并通过门限签名方式达成组内共识向组外广播。
  
  出于数据的不可篡改性，以及可追溯性，如上图所示，Chiron机制采用双链模型，区块链和组链，来记录整个数据链产生过程。同时考虑组内节点可能会形成组内携手作恶，所以组有存续周期，到期后会解散重新进入随机采样分组流程。所以当系统进入稳定状态，每当进入一个新纪元（epoch）都可能有新组生效，老组解散的情况发生，每个纪元的工作组列表会发生相应变动。如下图所示。 

## 二、Chiron铸块流程
 Chiron铸块流程:
 ![](proposal_block.png)
 
 Chiron组周期解释图
 ![](group_period.png)
 
 ### 新组创建
 由于组成员是去中心化网络上的对等节点，现实中某些时刻，节点因种种原因不在线不可避免，比如网络信号不好，恶意节点故意不作为等等。所以我们设计验证组需要有(门限签名的能力，这里是组成员数，是恢复的门限值，通常。即有含门限个以上的组员对消息认可签名，就能代表全组个成员对消息的认可，并能恢复出全组对此消息的认可签名。这里我们采用了去中心化的Shamir秘密共享算法，来产生各个组员的组内签名私钥，组内签名公钥，以及代表组共识的组私钥对应的组公钥，得到上述密钥，并对组公钥达成共识，才算完成组创建。
 传统的Shamir密钥分享技术[20]，可以看过一个需要“中心”的过程。即它首先要有个“分发者”，“分发者”决定采用哪个秘密多项式，然后将秘密分解，发放给其他人。而区块链网络是去中心化的网络，每个节点都是平等，对等的节点，不应产生中心化的 “分发者”。另外，分发者是先于其他节点知道秘密的，如果分发者在过程中做恶，是很难预防的，因此我们采用了去中心化的密钥分享算法。其核心思想就是：让每个组员都成为“中心”（即秘密分发者），那结果就是没有物理上的“中心”。但会在组的逻辑层面上形成一个初始秘密（该秘密每个成员均不知晓）。每位组员通过下述步骤的前三步会形成一个组逻辑层面的分享秘密。类似传统Shamir密钥分享算法，分享秘密集合具有门限恢复初始秘密的能力，即中任意不少于个分享秘密均能恢复组初始秘密，任意少于个分享秘密均无法得到组初始秘密的任何信息。
 具体执行步骤如下：
